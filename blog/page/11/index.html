
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fail Better</title>
  <meta name="author" content="David aka t3rse">

  
  <meta name="description" content="{ &#8220;Testing is the engineering rigor of software development&#8221; - Neal Ford Got a little tip from fuzzyman on using unittest for Unit &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://t3rse.github.io/blog/page/11">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Fail Better" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Fail Better</a></h1>
  
    <h2>An open letter</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:t3rse.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/26/unit-tests-with-iron-python/">Unit Tests With Iron Python</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-26T00:31:00-05:00" pubdate data-updated="true">Mar 26<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>&#8220;Testing is the engineering rigor of software development&#8221; - <a href="http://www.nealford.com/">Neal Ford</a></p> <p>Got a little tip from <a href="http://www.voidspace.org.uk/ironpython/index.shtml">fuzzyman</a> on using <a href="http://docs.python.org/lib/module-unittest.html">unittest</a> for Unit Testing with Iron Python. Because I&#8217;m a slouch I had an old IronPython 1.1 release and kept getting a BaseException error when my tests failed.&nbsp; The class has since been implemented and should work with the latest version of IronPython that you can download (I&#8217;m using a beta release of 2.0).</p> <p>Here is the code from my unit tests, of course it&#8217;s destined to change but I was in the mode of getting it to work with IronPython: </p> <p><pre>from Twining import *<br />import exceptions<br />import random<br />import unittest<br />import os<br /><br />class TestSequenceFunctions(unittest.TestCase):<br />    <br />    def setUp(self):<br />        self.cn = "Data Source=.\\sqlexpress;Initial Catalog=MVCBaby;Integrated Security=SSPI;"<br /><br />    def test_exportcsv(self):<br />        """ Export a CSV style data """<br />        outPath = "c:\\foo.csv"<br />        database(self.cn).table("Photos").copyto.csv(outPath)<br /><font color="#ff0000">        self.assert_(os.path.exists(outPath), "File was not created")</font><br />    <br />    def test_exportxmlattribstyle(self):<br />        """ Export xml data attribute style """<br />        outPath = "c:\\xml_as_attrib.xml"<br />        database(self.cn).table("Photos").copyto.xmlFieldsAsAttributes(outPath)<br /><font color="#ff0000">        self.assert_(os.path.exists(outPath), "File was not created")</font><br />        <br />    def test_exportxmlelementstyle(self):<br />        """ Export xml data attribute style """<br />        outPath = "c:\\xml_as_elem.xml"<br />        database(self.cn).table("Photos").copyto.xmlFieldsAsAttributes(outPath)<br /><font color="#ff0000">        self.assert_(os.path.exists(outPath), "File was not created")</font><br />    <br />    def tearDown(self):<br />        if os.path.exists("c:\\foo.csv"): os.remove("c:\\foo.csv")<br />        if os.path.exists("c:\\xml_as_attrib.xml"): os.remove("c:\\xml_as_attrib.xml")<br />        if os.path.exists("c:\\xml_as_elem.xml"): os.remove("c:\\xml_as_elem.xml")        <br />        <br />if __name__ == '__main__':<br />    unittest.main()<br /></pre><br /><p></p><br /><p>You can download this and the latest version of things from the new <a href="http://www.t3rse.com/twining/">Twining page</a>.&nbsp; </p><br /><h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
Introspecting .NET objects from IronPython is really easy.<BR/><BR/>dir(someObject)<BR/><BR/>returns a list of strings of member names (public and protected) of that object. <BR/><BR/>help(someObject.someMethod)<BR/><BR/>can also be useful sometimes.<BR/><BR/>Lots of other easy reflection techniques (hasattr, getattr and setattr for example).<BR/><BR/>Experimenting from the interactive interpreter will give you a feel for what is possible.</div>
</div>
<div class='comment'>
<div class='author'>sevenseeker</div>
<div class='content'>
Do you have any experience with testing existing .NET code and assemblies with IronPython?<BR/><BR/>How would I go about reflecting and introspecting elements to see what I can do if I don&#8217;t have access to all of the code?</div>
</div>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
Hmmm&#8230; we use unittest with IronPython 1.1.1 and don&#8217;t have any &#8216;BaseException&#8217; problems.<BR/><BR/>You&#8217;re better off with IronPython 2 for a host of other reasons though.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/25/twining-updates/">Twining Updates</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-25T00:42:00-05:00" pubdate data-updated="true">Mar 25<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>What&#8217;s the big picture and why are you doing it?</p> <p>A comment from my last post got me thinking I need to get back to the big picture. Robert wrote: </p> <blockquote> <p>Wow. That looks like a hard way to solve your problem. <br>If you absolutely have to mangle Excel data through Python and into a database&#8230; can I recommend Resolver? It won&#8217;t cost you anything and it might just solve your problem.</p></blockquote> <p>I&#8217;ll post about Resolver in a second but I want to go back to my original thoughts on developing Twining. I spend a lot of time doing quick and dirty types of data import and export.&nbsp; Sometimes it&#8217;s grabbing stuff off a production system so that I can develop off of it. Other times we get a simple file from someone and we need to pull it into the database.&nbsp; Still other times we move data from one location to the next because we&#8217;ve done staging or cleanup.&nbsp; <p>Traditionally the Microsoft tools for this are quite heavy.&nbsp; DTS, which I used a lot, and SSIS which I haven&#8217;t used much but have heard and read about are both GUI/IDE approaches towards the problem.&nbsp; SSIS in particular isn&#8217;t an out of the box solution for a developer like myself who doesn&#8217;t always install every iota of SQL Server tool there is to install.&nbsp; Usually I can express my problems in a simple sentence:  <p>&#8220;Copy the data from this table to that table.&#8221;<br>&#8220;Build an insert script for this table&#8217;s data&#8221;<br>&#8220;Import this CSV file to this database&#8221; <p>I wondered why language couldn&#8217;t be used as a tool for this type of work rather than launching a big GUI tool or writing throwaway C# console applications for the job.&nbsp; That&#8217;s the origin of the thought, cultivated when I heard Neal Ford give a talk at CodeMash on DSLs.&nbsp; A single &#8220;sentence&#8221; lodged itself in my head and I thought, wow, that would be a nice solution: <p>database(&#8220;foo&#8221;).tables(&#8220;bar&#8221;).copyto.database(&#8220;biff&#8221;) <p>I have to admit to being more of a gardener than an architect when it comes to these things so I started a notepad file with some &#8220;forms&#8221; I thought would work and one friday afternoon, after being burned out on regular work I started what I call &#8220;sketching&#8221;; seeing how things might work. Since then I&#8217;ve been gnawing on it in a public way since learning Python and thinking in a Pythonic way are probably even more important than my little module which may end up just being fabulous meware. <p>I had posted that I had a little database import project of about 110,000 records distributed over two excel files.&nbsp; The story I got was exactly the one I envisioned:  <p><font face="Courier New" size="2">cn = &#8220;Data Source=.&#92;sqlexpress;Initial Catalog=MyDB;Integrated Security=SSPI;&#8221;<br>colmap = {&#8220;Field1&#8221;:0, &#8220;Field2&#8221;:5, &#8220;Field3&#8221;:7} #destination:source - you may want to use the same source multiple times&#8230;<br>database(cn).table(&#8220;DestinationTable&#8221;).mapcolumns(colmap).importfrom.csv(&#8220;C:&#92;temp&#92;widgetCo&#92;update1.csv&#8221;)<br>database(cn).table(&#8220;DestinationTable&#8221;).mapcolumns(colmap).importfrom.csv(&#8220;C:&#92;temp&#92;widgetCo&#92;update2.csv&#8221;)</font> <p>I will admit it wasn&#8217;t perfect the first time - my lazy use of string concatenation rather than the .NET StringBuilder was a huge penalty (~10 minutes). I rewrote those pieces and the whole process took less than 30 seconds. Cheers for ADO.NET on that one - the updates were _massive. <p>So, back to Resolver; I read <a href="http://www.sdtimes.com/content/article.aspx?ArticleID=31818">a glowing review</a> from Larry O&#8217;Brien (his column is the first thing I read in SD Times when it crosses my desk) and the comment propelled me to watch <a href="http://www.resolversystems.com/screencasts/resolver-one-in-one/">a few</a> <a href="http://www.resolversystems.com/screencasts/web-app-in-10-mins/">screencasts</a> and <a href="http://www.resolversystems.com/documentation/index.php/Writing_to_a_database">dig around</a> but the goal of the product wasn&#8217;t quite in line with the story I recount above.&nbsp; Perhaps it&#8217;s possible but it seems more like an interface in which one dwells on providing complex functionality in the spreadsheet rather than just quick and dirty import/export business. <p>More updates forthcoming but a short note: I spent a good part of the weekend trying to read through the code of <a href="http://www.voidspace.org.uk/python/configobj.html">ConfigObj 4</a> courtesy of Michael Foord (aka &#8220;Fuzzyman&#8221; aka &#8220;Voidspace&#8221;).&nbsp; I&#8217;ll dwell on it further soon but one thing I realized I&#8217;d done that was a big mistake is to break the project into lots of files. I put them back together again and am in the process of figuring out how and where to host them. CodePlex/Google Code? Not sure if it&#8217;s ready for that yet.&nbsp; My own abode <a href="http://www.t3rse.com">t3rse</a> might work but I&#8217;d like to figure out how to generate documentation before I do that&#8230; <p>Enough said, <a href="http://www.t3rse.com/twining/Twining.py.txt">here is what&#8217;s latest</a>, details and unit tests tomorrow. <h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
&#8220;trying to read through the code of ConfigObj 4&#8221; - what are you mad! That code wasn&#8217;t meant to be read. :-)<BR/><BR/>The parser at the heart of ConfigObj is pretty nasty, but the rest of the code should be ok. A lot of the methods are too long though, the code should definitely be more modular.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/19/twining-iron-python-dsl-for-db-update-v/">Twining: Iron Python DSL for DB Update V</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-19T13:22:00-05:00" pubdate data-updated="true">Mar 19<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>I&#8217;m still at it with Twining. A few projects and events have distracted me temporarily but I had a few moments last night to do a few things that I&#8217;ve intended to for some time.&nbsp; First a summary of functionality with what&#8217;s new in red.</p> <p><font face="Courier New" size="2">cn = &#8220;Data Source=.&#92;sqlexpress;Initial Catalog=MyDB1;Integrated Security=SSPI;&#8221;<br>cn2 = &#8220;Data Source=.&#92;sqlexpress;Initial Catalog=MyDB2;Integrated Security=SSPI;&#8221; </font> <p><font size="2"><font face="Courier New"><font color="#ff0000"># dest, source (you can use the same source column over and over)<br># dest, source can be field names, example below uses ordinal position<br>colmap = {&#8220;DestinationField1&#8221;:1, &#8220;DestinationField2&#8221;:2, &#8220;DestinationField3&#8221;:1}<br>database(cn).table(&#8220;MyTable&#8221;).mapcolumns(colmap).importfrom.csv(&#8220;C:&#92;foo.csv&#8221;)</font> </font></font> <p><font face="Courier New" size="2">#old stuff<br>mytrans = {&#8220;Field1&#8221;:&#8221;upper&#8221;,&#8221;Field2&#8221;: lambda x: x.upper(),&#8221;Field3&#8221;: lambda x: x[::-1]}<br>database(cn).table(&#8220;MyTable&#8221;).transform(mytrans).copyto.database(cn2)<br>database(cn).table(&#8220;MyTable&#8221;).transform(mytrans).copyto.xmlFieldsAsAttributes(&#8220;c:&#92;here.xml&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).transform(mytrans).copyto.xmlFieldsAsElements(&#8220;c:&#92;there.xml&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).transform(mytrans).copyto.delimited(&#8220;\t&#8221;, &#8220;c:&#92;foaf.tsv&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).copyto.delimited(&#8220;\t&#8221;, &#8220;c:&#92;foaf_no_trans.tsv&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).transform(mytrans).copyto.csv(&#8220;c:&#92;foo.csv&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).copyto.xmlFieldsAsAttributes(&#8220;c:&#92;here.xml&#8221;)<br>database(cn).table(&#8220;MyTable&#8221;).copyto.xmlFieldsAsElements(&#8220;c:&#92;there.xml&#8221;)<br>database(cn).backupto(&#8220;C:&#92;temp&#92;loungin.bak&#8221;)</font>  <p>Footnotes: I&#8217;m working on changing my implementation of all things CSV/delimiter to using ADO.NET providers - the manually concatenated strings were just proof of concept. Back in 2004 in <a href="http://discuss.techinterview.org/default.asp?joel.3.1282.11">a thread</a> that none other than Joel Spolsky responded to I learned not to try to reinvent a very hard CSV wheel. <p>The other bigger change I made was breaking the project apart. What was originally in multiple files as a &#8220;sketch&#8221; was becoming a nuisance besides poorly structured. I&#8217;ve deconstructed into the following files:  <p>registrar.py - holds global, static data.<br>sqlhelper.py - runs dynamic sql statements<br>errorhandle.py - exception handling<br>database.py - reference to databases, constituent tables, and holds the copyto and importfrom objects<br>copyto.py - object for exporting as CSV, XML, and database to database<br>importfrom.py - object for importing data (currently on rough sketch for CSV import)  <p>Most remains unchanged from the last upload but here is the code for the importfrom functionality: <pre>import clr<br />clr.AddReference("System.Data")<br />from System import *<br />from System.Data import *<br />from System.Data.SqlClient import *<br />from System.Data.OleDb import *<br />from System.IO import *<br /><br />from registrar import *<br />from sqlhelper import *<br /><br /><br />class importfrom:<br />	"""Model data import process"""<br />	<br />	def __init__(self):<br />		self.columnmap = {}<br />	<br />	def build_destination(self):<br />		""" If destination does not exist, construct table"""<br />		pass<br />	<br />	def csv(self, path):<br />		""" Import data from a csv file """<br />		fileName = path.split("\\")[-1]<br />		fileDir = path.replace(fileName, "")<br />		connect = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source={0};Extended Properties='text;HDR=No;FMT=Delimited'"<br />		csvConnection = OleDbConnection(String.Format(connect, fileDir))<br />		csvConnection.Open()<br />		csvCommand = OleDbCommand("select * from " + fileName, csvConnection)<br />		sourceReader = csvCommand.ExecuteReader(CommandBehavior.CloseConnection)<br />		masterInsert = ""<br /><br />		while sourceReader.Read():<br />			cols, vals = "", ""<br />			for k in self.column_map.keys():<br />				cols, vals = cols + "[" + k + "],", vals + "'" + str(sourceReader[self.column_map[k]]) + "',"<br />			masterInsert += "insert into " + registrar.tableRegister + "(" + cols[:-1] + ")VALUES(" + vals[:-1] + ")\n"<br />		sourceReader.Close()<br /><br />		try:<br />			sqlhelper().run_sql(registrar.databaseRegister, masterInsert)<br />		except Exception, inst:<br />			errorhandle().print_error("Error occured during import", inst)<br /></pre><br /><p><a href="http://www.seruyange.com/metadeveloper/Twining.zip">Download everything here</a> as a zip file. I&#8217;ve hopefully carved a little space in the schedule amongst various projects to spend more time going back and polishing things. I&#8217;ve just been tasked with migrating about 120,000 records out of Excel so this should provide a good opportunity to add functionality and test it&#8217;s breakability for the type of thing I often have to do.</p><br /><h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>David Seruyange</div>
<div class='content'>
Hey Robert, <BR/><BR/>The story I&#8217;m hoping for this will be: <BR/><BR/>database(&#8216;excel&#8217;).tables(&#8216;sheet1&#8217;).copyto.database(&#8216;mydb&#8217;)<BR/><BR/>Since I find myself having to do this often, I&#8217;m willing to deal with some pain and nuances for an easy one liner in the future. I&#8217;ve seen a lot of &#8220;copy/paste&#8221; approaches to importing data from excel and because it&#8217;s something one can&#8217;t automate I tend to avoid it.<BR/><BR/>Hopefully no mangling will take place but I do need to check out Resolver.</div>
</div>
<div class='comment'>
<div class='author'>robert</div>
<div class='content'>
Wow. That looks like a hard way to solve your problem. <BR/><BR/>If you absolutely have to mangle Excel data through Python and into a database&#8230; can I recommend Resolver? It won&#8217;t cost you anything and it might just solve your problem.<BR/><BR/>Cheers, Robert</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/12/brash-boys/">Brash Boys</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-12T16:54:00-05:00" pubdate data-updated="true">Mar 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>When I read <a href="http://www.wired.com/techbiz/media/magazine/16-03/mf_signals">the article on 37 Signals</a> in Wired, I admit I alternated between shaking my head, laughing, and sighing. </p> <p>When Hanson commented upon the term arrogance, I laughed: </p> <blockquote> <p>&#8220;Arrogant is usually something you hurl at somebody as an insult,&#8221; Hansson said. &#8220;But when I actually looked it up — having an aggravated sense of one&#8217;s own importance or abilities&#8217; — I thought, sure.&#8221;</p></blockquote> <p>When the article describes him as a &#8220;philosopher king&#8221; I shook my head.&nbsp; And his response to naysayers, &#8220;F&#8212; you&#8221; made me sigh; not a convincing piece of rhetoric at all.&nbsp; </p> <p>Despite all this, despite Atwood&#8217;s <a href="http://www.codinghorror.com/blog/archives/001065.html">recent swipe</a> at what he calls &#8220;douchebaggery,&#8221; despite the <a href="http://www.jnd.org/dn.mss/why_is_37signals_so_1.html">disagreement</a> of Don Norman, there is something there.&nbsp; </p> <p>It&#8217;s not that I&#8217;m one of the fanboys of the Ruby or Apple world, or that I agree with Hansson&#8217;s attitude towards windows developers - it&#8217;s that I think it&#8217;s a trait of people I call successful to be able to concentrate and get things done without regard for outside opinions.&nbsp; It&#8217;s less of a &#8220;stay the course&#8221; mentality than an understanding of self and drawing clear lines with work rather than spending a lot of time second guessing and self doubting. </p> <p>One area in which I can look at hard data and side with 37signals is in the realm of additional or complex features; I really do question whether they are worth it.&nbsp; I just recently quantified this with an application we wrote for a customer that they are using successfully.&nbsp; I compared the baseline functionality of a particular feature to some exceptional scenarios I had to write code for - it was easy because one can tell the usage by counting records in the database.&nbsp; Anyhow, for the baseline functionality I counted some 6,100 instances of its use.&nbsp; For the exceptional scenarios, I counted 9 entries.&nbsp; Here&#8217;s the clincher: it took about 3 or 4 times as long to implement support for the exceptional scenarios (and it added a lot of complexity to the code for the baseline feature).&nbsp; So the ability to handle about one tenth of a percent of scenarios, cost and complexity was inflated significantly.</p> <p>Here&#8217;s where I disagree with them: it&#8217;s not my decision, it&#8217;s the customer&#8217;s. My goal should be to communicate that trade off as well as I can.</p> <h1><font color="#0000ff">}</font></h1>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/09/vbnet-design/">VB.NET Design</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-09T14:12:00-05:00" pubdate data-updated="true">Mar 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>Paul Vick <a href="http://www.panopticoncentral.net/archive/2008/02/27/22910.aspx">posts</a> on some design considerations for future versions of VB.NET and hits upon something I was complaining about just this week - the fact that one has to speckle their code with line continuation characters in places where they should be implicit.&nbsp; This seems to happen for me in two spots, assigning parameters and string concatenation.&nbsp; </p> <p>It&#8217;s reassuring that not only does the VB.NET team listen, but they are looking for solutions as well.</p> <h1><font color="#0000ff">}</font></h1>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/06/mix-08-keynote/">Mix 08 Keynote</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-06T00:15:00-06:00" pubdate data-updated="true">Mar 6<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>Just <a href="http://www.visitmix.com/blogs/Joshua/Day-1-Keynote/">watched it</a> while working on some stuff tonight.&nbsp; Good things seem to be happening although much of it is in CTP or Beta form right now.&nbsp; I&#8217;ll need to resurrect my VPC images to install and play when I have the time. What&#8217;s baking that&#8217;s cool?</p> <p>IE 8 - the integrated Firebug like debugging is what&#8217;s got me excited for now.<br>Silverlight 2.0 - Dino Esposito joked about how Silverlight 1.0 was a declarative way to produce an animated gif (unless you just want a video player).&nbsp; Now that a real control library is being developed, people like me will be able to seriously think of ways to use it.&nbsp; I don&#8217;t stream video but I do write a lot of code :)<br>Expression 2.0 / WPF - Ditto on Silverlight 2.0, WPF needs controls - and not just the kind you have to pay $$$ for.&nbsp; In my best Steve Balmer voice I&#8217;d say &#8220;controls! controls! controls!&#8221; The blank canvas thing is cool but limited when you need to build something on a real world timeline with real world resources.</p> <p>I didn&#8217;t see ASP.NET MVC stuff in the keynote under demonstration but it was mentioned. Via Hanselman, <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=38CC4CF1-773A-47E1-8125-BA3369BF54A3&amp;displaylang=en">Preview 2</a> is released today.</p> <p>John Lam seems to be writing <a href="http://www.iunknown.com/2008/03/dynamic-silverl.html">a multi-part article on DLR + IronRuby</a> - a cool way to experiment with Silverlight although now I&#8217;m officially in love with Python and may not have room for a while.&nbsp; </p> <p>I&#8217;m excited to see what happens but I&#8217;m skeptical to put too much effort into this stuff until it&#8217;s properly released.&nbsp; Since I&#8217;m no longer a trainer and the apps I write have to be installable on client machines, I have less flexibility and time to get full fledged into beta stuff. It will also be interesting to see who wins the Silverlight / Flash war (and a war it will be). Microsoft is building its installed base pretty fast and with a better developer toolkit I will be interested to see what Adobe does with Flash.</p> <p>Lots more lurking to do - even though <strike>all the</strike> cool people are at MIX, so much is online and so many people are twittering (I now have a &#8220;Twit&#8221; folder in my reader), one can almost imagine themselves there.</p> <h1><font color="#0000ff">}</font></h1>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/05/gem-in-morning-coffee/">A Gem in the Morning Coffee</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-05T12:58:00-06:00" pubdate data-updated="true">Mar 5<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>Harry &#8220;DevHawk&#8221; Pierson <a href="http://devhawk.net/2008/02/27/Morning+Coffee+150.aspx">comments</a> (emphasis mine): </p> <blockquote style="padding-left: 3px; border-left: tomato 1px solid"> <p>My opinion, since you asked Nick, is that EA (Enterprise Architecture) fails to deliver value because it tries to control the uncontrollable. <strong>Trying to gain efficiency thru establishing standards and eliminating overlap via reuse are pipe dreams</strong>, though literally millions of $$$ have been poured into those sink-holes. There are a few areas where centrally funded infrastructure projects can solve big problems that individual projects can&#8217;t effectively tackle on their own. EA should focus their time there, they can actually make a difference. Otherwise, they should stay out of project&#8217;s way.</p></blockquote> <p>I concur and there&#8217;s follow up if you read on in his blog, but this was quite succinct.</p> <p>A funny little aside: I was called for a marketing survey and agreed to it after I found the reward was a $50 coupon for Amazon. The woman caller asked my title and I said &#8220;Software Architect&#8221; (my given title, though I really fit the mould of a lead developer and plan to have it changed).&nbsp; She paused on &#8220;architect&#8221; and asked: &#8220;But do you write code?&#8221;&nbsp; I answered in the affirmative and had to do so to variants of the question (e.g. &#8220;But do you implement specifications in code? But do you really know C#?&#8221;) about 4 or 5 times.&nbsp; Moral of the story, don&#8217;t use architect in your title, use developer. Unless you&#8217;re Don Box.</p> <h1><font color="#0000ff">}</font></h1>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/05/just-do-it-yourself/">Just Do It Yourself</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-05T12:45:00-06:00" pubdate data-updated="true">Mar 5<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>I go back and forth on the very thing Larry calls &#8221;<a href="http://www.knowing.net/PermaLink,guid,ac8904ef-2b02-4cea-85f0-c8beef7c5259.aspx#disqus_thread&amp;with_comments=true">Lead-Developer Compression Ratios</a>.&#8221; Two things happen over the long haul that affect my thinking: first, even though it&#8217;s time consuming communicating needs to a junior developer, it seems to pay off when it comes to fine tuning and bug fixing - it&#8217;s not something you have to worry about since it&#8217;s delegated. &#8220;Finished&#8221; in my world means it&#8217;s been through a few cycles of testing, cycles that take a lot of time.&nbsp; The second thing though is when something is delegated and I think is done fairly well only to find at the aforementioned testing/bug fix cycle is horribly broken and either has to be hacked into a <a href="http://www.sdtimes.com/content/article.aspx?ArticleID=31611">technical debt</a> ridden working order or needs to be done again - from scratch.&nbsp; It seems to come down to the complexity of the tasks - if it&#8217;s simple you can take the time, if it&#8217;s complex just do it yourself.</p> <h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>David Seruyange</div>
<div class='content'>
hehe - it&#8217;s so strange how job titles these days have the opposite effects of disambiguity.  <BR/><BR/>Maybe I should borrow Hanselman&#8217;s &#8220;Debugger in Chief&#8221; title&#8230;</div>
</div>
<div class='comment'>
<div class='author'>Catherine</div>
<div class='content'>
Hee&#8230; I call myself a &#8220;database engineer&#8221;  (since I&#8217;m not just a database administrator or a database programmer), but I always wonder if I&#8217;m being silly.  Then again, I do have an engineering degree&#8230;  &#8220;Get me 800 kg of Portland cement, this schema needs reinforcement!&#8221;</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/03/twining-iron-python-dsl-for-db-update/">Twining: Iron Python DSL for DB Update IV</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-03T23:57:00-06:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p><em>long entry because it was written at an airport, just back from celebrating 3 years with my beautiful wife in Monterey, CA&#8230; </em><br></p> <p>A few interesting things, but first just a summary of what can be done with what&#8217;s new in red:</p> <p><font face="courier new " size="2">#connection strings<br>cn = &#8220;Data Source=.&#92;sqlexpress;Initial Catalog=DB_SOURCE;Integrated Security=SSPI;&#8221;<br>cn2 = &#8220;Data Source=.&#92;sqlexpress;Initial Catalog=DB_DESTINATION;Integrated Security=SSPI;&#8221;<br><br>#back up the database to a file<br>database(cn).backupto(&#8220;C:&#92;temp&#92;loungin.bak&#8221;)<br><br>#copy/export basic<br>database(cn).table(&#8220;MY_TABLE&#8221;).copyto.csv(&#8220;c:&#92;spam.csv&#8221;)<br>database(cn).table(&#8220;MY_TABLE&#8221;).copyto.xmlFieldsAsAttributes(&#8220;c:&#92;spam.xml&#8221;)<br>database(cn).table(&#8220;MY_TABLE&#8221;).copyto.xmlFieldsAsElements(&#8220;c:&#92;spam.xml&#8221;) </font> <p><font face="courier new " color="#ff0000" size="2">#pick your delimiter<br>database(cn).table(&#8220;Photos&#8221;).copyto.delimited(&#8220;\t&#8221;, &#8220;c:&#92;spam.tsv&#8221;) </font></p> <p><font face="courier new " size="2">#copy to database<br>database(cn).table(&#8220;MY_TABLE&#8221;).copyto.database(cn2)<br><br>#all copy operations can leverage transform dictionary<br>mytrans = {&#8220;FIELD1&#8221;:&#8221;upper&#8221;,&#8221;FIELD2&#8221;: lambda x: x.upper(),&#8221;FIELD3&#8221;: lambda x: x[::-1]}<br><br><font color="#ff0000">database(cn).table(&#8220;MY_TABLE&#8221;).transform(mytrans).copyto.xmlFieldsAsAttributes(&#8220;c:&#92;spam.xml&#8221;)<br>database(cn).table(&#8220;MY_TABLE&#8221;).transform(mytrans).copyto.xmlFieldsAsElements(&#8220;c:&#92;spam.xml&#8221;)<br>database(cn).table(&#8220;MY_TABLE&#8221;).transform(mytrans).copyto.delimited(&#8220;\t&#8221;, &#8220;c:&#92;spam.tsv&#8221;)<br>database(cn).table(&#8220;MY_TABLE&#8221;).transform(mytrans).copyto.database(cn2)</font></font><br>&#8230; and so on, see above</p> <p>Some internal changes:<br>1. Error Handling, quite lazy for now simply stores a combination of a friendly message along with full text of the exception thrown:<br></p> <p><font face="Courier New" size="2">class errorhandle:<br>&nbsp;&nbsp;&nbsp; def print_error(self, text, error):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#8220;&#8221;&#8221; Handle an exception by just printing a friendly message and then the error&#8217;s guts&#8221;&#8220;&#8221;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print text<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print error </font> <p><font face="Courier New" size="2">try:<br>&nbsp;&nbsp;&nbsp; sqlhelper().run_sql(registrar.databaseRegister, sqlBackup)<br>except Exception, inst:<br>&nbsp;&nbsp;&nbsp; errorhandle().print_error(&#8220;Error occured during backup&#8221;, inst)</font></p> <p>2. Some Pythonic prettiness (via Catherine):  <p><font face="Courier New" size="2">#if registrar.transforms.has_key(field): &#8211; es muy fao!<br>if field in registrar.transforms:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font> <p>I do like the more idiomatic form myself.&nbsp; This a perfect example of where, as a .NET developer I look around for methods and miss a beautiful idiom. <p>3. Right under my nose, back to idiom, were a few simple pythonic forms that took away a lot of the line noise and clutter I was producing during my initial rabid sketches of the idea. Doing multiple assignment out of a SqlDataReader is something I only thought of now, though it makes such perfect sense: <p><font face="Courier New" size="2">column_name, column_type, column_length, column_identity = \<br>&nbsp;&nbsp;&nbsp; r[&#8220;name&#8221;], r[&#8220;typename&#8221;], str(r[&#8220;max_length&#8221;]), r[&#8220;is_identity&#8221;] </font> <p>4. Returning tuples rather than lists.&nbsp; Tuples are more effecient and as effective.&nbsp; A question that&#8217;s begun burgeoning now is whether excessive use of tuples is lazy when a specific type is more clear.&nbsp; For example, when I read column data from a table, I need to know two things: the column name and whether it&#8217;s an identity (autonumbering). Right now I&#8217;m doing the following lazy gesture: <p><font face="Courier New" size="2">colTypeInfo.append((column_name, column_identity)) #(column_name, column_identity) is the tuple added to the list.</font> <p>But if I start to add other useful bits of info, like the datatype of the underlying column, I wonder if a class would be better since you could have something like: <p><font face="Courier New" size="2">colTypeInfo.append(ColumnData(column_name, column_identity, column_type)) #Where ColumnData is a type somewhere</font> <p>Right now the tuple approach works fine and a class feels like overkill. For now, I&#8217;m just afraid of it bloating as needs present themselves&#8230;  <p>5. Speaking of identity columns, I added better support for them in tables being copied.&nbsp; I also now use brackets for column names since certain people like to use reserved words for columns (or don&#8217;t have a choice). <p>6. I mentioned in a comment that I tried to reconcile feedback from both <a href="http://catherinedevlin.blogspot.com/">Catherine</a> and <a href="http://www.voidspace.org.uk/python/weblog/index.shtml">Michael &#8220;Fuzzyman&#8221; Foord</a>.&nbsp; When I match columns for transformations I allow any TypeError to be suppressed, but also store it in a &#8220;warnings&#8221; list that I&#8217;ll incorporate into the completed process. <p><font face="Courier New" size="2">def checkAndTransform(self, field, value):<br>&nbsp;&nbsp;&nbsp; &#8220;&#8221;&#8221; Perform transformation on fields based on either:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a) keyword entries (&#8220;upper&#8221;, &#8220;lower&#8221;, etc&#8230; )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b) lambda expressions<br>&nbsp;&nbsp;&nbsp; &#8220;&#8221;&#8221;<br>&nbsp;&nbsp;&nbsp; if field in registrar.transforms:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if callable(registrar.transforms[field]):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value = registrar.transforms[field](value)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; except TypeError:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; registrar.warnings.append(&#8220;Your transform failed on field %s&#8221; % field)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elif registrar.transforms[field] == &#8220;upper&#8221;: #more of this kind of stuff _maybe later.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value = value.upper()<br>&nbsp;&nbsp;&nbsp; return value&nbsp;&nbsp;&nbsp; </font> <p>As always you can have a look at <a href="http://www.seruyange.com/metadeveloper/database.py.txt">the entire thing here</a>.&nbsp; It&#8217;s been great getting guidance, any comment is welcome and will be studied. <p>What is on the list?<br>1. I&#8217;ve been using a cheap, unstudied approach to delimited files. I&#8217;ll need to look at the &#8220;official&#8221; way of escaping entries.<br>2. Importing data<br>3. A few more variants of operating on databases, like &#8220;create.&#8221; <h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>milf</div>
<div class='content'>
<A HREF="http://black-mold-exposure-symptoms.blogspot.com/2008/03/health-problems-from-mold.html" REL="nofollow">black mold exposure</A><A HREF="http://black-exposuremold-symptom.blogspot.com/2008/03/black-exposure-mold-symptom.html" REL="nofollow">black mold symptoms of exposure</A><A HREF="http://iron-garden-gates.blogspot.com/2008/03/hand-crafted-by-renown-metal-artists.html" REL="nofollow">wrought iron garden gates</A><A HREF="http://wrought-iron-gates.blogspot.com/2008/03/wrought-iron-doors-are-one-of-many.html" REL="nofollow">iron garden gates find them here</A><A HREF="http://hairstyles-for-fine-thinhair.blogspot.com/2008/03/hair-styles-for-fine-thin-hair.html" REL="nofollow">fine thin hair hairstyles</A><A HREF="http://hairstyles-forfine-thinhair.blogspot.com/2008/03/hair-styles-fine-thin-hair.html" REL="nofollow">search hair styles for fine thin hair</A><A HREF="http://purchase-nightvision-vinoculars.blogspot.com/2008/03/purchase-night-vision-binoculars.html" REL="nofollow">night vision binoculars</A><A HREF="http://purchasenightvisionbinoculars.blogspot.com/2008/03/purchase-night-vision-binoculars.html" REL="nofollow">buy night vision binoculars</A><A HREF="http://allergicreaction-tolipitor.blogspot.com/2008/03/allergic-reaction-to-lipitor.html" REL="nofollow">lipitor reactions</A><A HREF="http://lipitoralcohol.blogspot.com/2008/03/lipitor-and-alcohol.html" REL="nofollow">lipitor allergic reactions</A><A HREF="http://beach-resort-philippines.blogspot.com/2008/03/beach-resort-philippines.html" REL="nofollow">luxury beach resort in the philippines</A><BR/><BR/><A HREF="http://beachresort-inthe-philippines.blogspot.com/2008/03/beach-resort-in-philippines.html" REL="nofollow">afordable beach resorts in the philippines</A><A HREF="http://homeopathycures-foreczema.blogspot.com/2008/03/homeopathy-cures-for-eczema.html" REL="nofollow">homeopathy for eczema.</A><A HREF="http://homeopathycures-forbabyeczema.blogspot.com/2008/03/homeopathy-cures-for-baby-eczema.html" REL="nofollow">baby eczema.</A><A HREF="http://mineral-makeup-bargains.blogspot.com/2008/03/mineral-makeup-bargains.html" REL="nofollow">save big with great mineral makeup bargains</A><A HREF="http://bargain-minera-makeup.blogspot.com/2008/03/bargain-mineral-makeup.html" REL="nofollow">mineral makeup wholesalers</A><A HREF="http://prodamiphone-praha.blogspot.com/2008/03/now-iphone-owners-can-unlock-iphone.html" REL="nofollow">prodam iphone </A><A HREF="http://prodam-iphone-praha.blogspot.com/2008/03/prodam-iphone-praha.html" REL="nofollow">Apple prodam iphone praha</A><A HREF="http://iphone-clonecect-manual.blogspot.com/2008/03/iphone-clone-cect-manual.html" REL="nofollow">cect iphone manual</A><A HREF="http://manual-iphoneclone-cect.blogspot.com/2008/03/iphone-clone-cect.html" REL="nofollow">manual for P 168 iphone</A><A HREF="http://fero52-binoculars-nightvision.blogspot.com/2008/03/fero-52-binoculars-night-vision.html" REL="nofollow">fero 52 binoculars</A><A HREF="http://fero52-nightvisionbinoculars.blogspot.com/2008/03/good-binocular-dealer.html" REL="nofollow">night vision Fero 52 binoculars</A><A HREF="http://night-vision-binocularshtm.blogspot.com/2008/03/night-vision-binoculars-htm.html" REL="nofollow">The best night vision binoculars here</A><BR/><BR/><A HREF="http://nightvision-binocularshtm.blogspot.com/2008/03/night-vision-binoculars.html" REL="nofollow">night vision binoculars bargains</A><A HREF="http://computerprograms-tomake-photoalbum.blogspot.com/2008/03/computer-programs-to-make-photo-albums.html" REL="nofollow">free photo albums computer programs</A><A HREF="http://computerprograms-make-photoalbums.blogspot.com/2008/03/photo-albums-programs.html" REL="nofollow">free software to make photo albums</A><A HREF="http://freeprintabletaxforms.blogspot.com/2008/03/free-printable-tax-forms.html" REL="nofollow">free tax forms</A><A HREF="http://free-printable-taxforms.blogspot.com/2008/03/free-printable-tax-forms.html" REL="nofollow">printable tax forms for free </A><A HREF="http://craftmatic-adjustable-airbed.blogspot.com/2008/03/craftmatic-adjustable-air-bed.html" REL="nofollow">craftmatic air bed</A><A HREF="http://craftmaticadjustableairbed.blogspot.com/2008/03/craftmatic-adjustable-air-bed.html" REL="nofollow">craftmatic air bed adjustable info here</A><A HREF="http://boyd-night-airbed.blogspot.com/2008/03/boyd-night-air-bed.html" REL="nofollow">boyd air bed</A><A HREF="http://boydnightairbed.blogspot.com/2008/03/boyd-night-air-bed.html" REL="nofollow">boyd night air bed lowest price</A><A HREF="http://airbedinwisconsin.blogspot.com/2008/03/air-bed-in-wisconsin.html" REL="nofollow">find air beds in wisconsin</A><A HREF="http://airbeds-wisconsin.blogspot.com/2008/03/air-bed-in-wisconsin.html" REL="nofollow">best air beds in wisconsin</A><A HREF="http://cloudair-inflatablebed.blogspot.com/2008/03/cloud-air-inflatable-bed.html" REL="nofollow">cloud air beds</A><BR/><BR/><A HREF="http://cloudairinflatablebed.blogspot.com/2008/03/cloud-air-inflatable-bed.html" REL="nofollow">best cloud inflatable air beds</A><A HREF="http://portable-sealy-airbed.blogspot.com/2008/03/portable-sealy-air-bed.html" REL="nofollow">sealy air beds portable</A><A HREF="http://portablesealyairbed.blogspot.com/2008/03/portable-sealy-air-bed.html" REL="nofollow">portables air beds</A><A HREF="http://aluminum-rvluggage-racks.blogspot.com/2008/03/aluminum-rv-luggage-racks.html" REL="nofollow">rv luggage racks</A><A HREF="http://aluminumrvluggageracks.blogspot.com/2008/03/aluminum-rv-luggage-racks.html" REL="nofollow">aluminum made rv luggage racks</A><A HREF="http://airbed-formraised.blogspot.com/2008/03/air-bed-form-raised.html" REL="nofollow">air bed raised</A><A HREF="http://airbedformraised.blogspot.com/2008/03/air-bed-form-raised.html" REL="nofollow">best form raised air beds</A><A HREF="http://support-equipments-aircraft.blogspot.com/2008/03/support-equipments-aircraft.html" REL="nofollow">aircraft support equipments</A><A HREF="http://support-equipmentsaircraft.blogspot.com/2008/03/support-equipments-aircraft.html" REL="nofollow">best support equipments for aircrafts</A><A HREF="http://informercialsbedair.blogspot.com/2008/03/informercials-bed-air.html" REL="nofollow">bed air informercials</A><A HREF="http://informercials-bedair.blogspot.com/2008/03/informercials-bed-air.html" REL="nofollow">best informercials bed air</A><A HREF="http://mattress-sized-airbeds.blogspot.com/2008/03/mattress-sized-air-beds.html" REL="nofollow">mattress sized air beds</A><BR/><BR/><A HREF="http://mattresssized-airbeds.blogspot.com/2008/03/mattress-sized-air-beds.html" REL="nofollow">bestair bed mattress </A><A HREF="http://antiquedoorknob-identification.blogspot.com/2008/03/antique-doorknob-identification.html" REL="nofollow">antique doorknobs</A><A HREF="http://antique-doorknob-identification.blogspot.com/2008/03/antique-doorknob-identification.html" REL="nofollow">antique doorknob identification tips</A><A HREF="http://troubleshootingdvdplayer.blogspot.com/2008/03/troubleshooting-dvd-player.html" REL="nofollow">dvd player troubleshooting</A><A HREF="http://troubleshooting-dvd-player.blogspot.com/2008/03/troubleshooting-dvd-player.html" REL="nofollow">troubleshooting with the dvd player</A><A HREF="http://flatpaneltelevisionlcd-versusplasma.blogspot.com/2008/03/flat-panel-television-lcd-versus-plasma.html" REL="nofollow">flat panel television lcd vs plasma</A><A HREF="http://flatpaneltvlcd-versusplasma.blogspot.com/2008/03/flat-panel-television-lcd-versus-plasma.html" REL="nofollow">flat panel lcd television  versus plasma pic the best</A><A HREF="http://causesof-economicrecession.blogspot.com/2008/03/causes-of-economic-recession.html" REL="nofollow">The causes of economic recession</A><A HREF="http://causesofeconomicrecession.blogspot.com/2008/03/causes-of-economic-recession.html" REL="nofollow">what are the causes of economic recession</A><A HREF="http://bed-airfoam-adjustable.blogspot.com/2008/03/bed-air-foam-adjustable.html" REL="nofollow">adjustable bed air foam </A><A HREF="http://bedairfoamadjustable.blogspot.com/2008/03/bed-air-foam-adjustable.html" REL="nofollow">The best bed air foam </A><BR/><BR/><A HREF="http://hoofprintsantiqueequestrian.blogspot.com/2008/03/hoof-prints-antique-and-unusual.html" REL="nofollow">hoof prints antique equestrian prints</A><A HREF="http://hoofprints-antique-equestrianprints.blogspot.com/2008/03/hoof-prints-antique-and-unusual.html" REL="nofollow">antique hoof prints  equestrian prints</A><A HREF="http://buy-adjustable-airbed.blogspot.com/2008/03/buy-adjustable-air-bed.html" REL="nofollow">Buy air bedadjustable</A><A HREF="http://buyadjustableairbed.blogspot.com/2008/03/buy-adjustable-air-bed.html" REL="nofollow">buy the best adjustable air beds</A><A HREF="http://air-bedscanadian-stores.blogspot.com/2008/03/air-bedscanadian-stores.html" REL="nofollow">air beds canadian stores</A><A HREF="http://airbedscanadianstores.blogspot.com/2008/03/air-bedscanadian-stores.html" REL="nofollow">Canadian stores for air beds</A><BR/><BR/><A HREF="http://floridamigraineheadacheclinic.blogspot.com/2008/04/florida-migraine-headache-clinic.html" REL="nofollow">migraine cause</A><A HREF="http://migraineheadacheclinicflorida.blogspot.com/2008/04/florida-migraine-headache-clinic.html" REL="nofollow">migraine treatments florida</A><A HREF="http://florida-migraineheadache-clinic.blogspot.com/2008/04/miss-brown-told-me-i-am-constantly.html" REL="nofollow">florida headache clinic</A><A HREF="http://airdryerdessicantbed.blogspot.com/2008/04/air-dryer-dessicant-bed.html" REL="nofollow">drying dessicant</A><A HREF="http://air-dryer-dessicant-bed.blogspot.com/2008/04/air-dryer-dessicant-bed.html" REL="nofollow">air drying dessicant</A><A HREF="http://airbed-dryerdessicant.blogspot.com/2008/04/air-dryer-dessicant-bed.html" REL="nofollow">dessicant air dryer</A><A HREF="http://asthmaspecialistinvirginia.blogspot.com/2008/04/asthma-specialist-in-virginia.html" REL="nofollow">pediatric asthma</A><A HREF="http://asthma-specialist-virginia.blogspot.com/2008/04/asthma-specialist-in-virginia.html" REL="nofollow">asthma specialist</A><A HREF="http://virginia-asthma-specialists.blogspot.com/2008/04/asthma-specialist-in-virginia.html" REL="nofollow">asthma children specialist</A><A HREF="http://dallasbestprofessionalcarpetcleaning.blogspot.com/2008/04/dallas-best-professional-carpet.html" REL="nofollow">carpet cleaning dallas tx</A><A HREF="http://dallas-professional-carpetcleaning.blogspot.com/2008/04/dallas-best-professional-carpet.html" REL="nofollow">carpet cleaners dallas</A><A HREF="http://dallas-professionalcarpetcleaning.blogspot.com/2008/04/dallas-best-professional-carpet.html" REL="nofollow">carpet cleaning dallas</A><BR/><BR/><A HREF="http://beachhomevacationvero.blogspot.com/2008/05/beach-home-vacation-vero.html" REL="nofollow">vero beach vacation</A><A HREF="http://beach-homevacation-vero.blogspot.com/2008/05/beach-home-vacation-vero.html" REL="nofollow">vero beach vacations</A><A HREF="http://verobeach-homevacation.blogspot.com/2008/05/beach-home-vacation-vero.html" REL="nofollow">beach vacation homes vero</A><A HREF="http://vacationcondosmsbeach.blogspot.com/2008/05/ms-beach-vacation-condos.html" REL="nofollow">ms beach vacations</A><A HREF="http://msbeach-vacationcondos.blogspot.com/2008/05/ms-beach-vacation-condos.html" REL="nofollow">ms beach vacation</A><A HREF="http://msbeach-vacation-condos.blogspot.com/2008/05/ms-beach-vacation-condos.html" REL="nofollow">ms beach condos</A><A HREF="http://mauibeach-vacationclub.blogspot.com/2008/05/maui-beach-vacation-club.html" REL="nofollow">maui beach vacation</A><A HREF="http://mauibeachvacationclub.blogspot.com/2008/05/maui-beach-vacation-club.html" REL="nofollow">maui beach vacations</A><A HREF="http://maui-beachvacation-club.blogspot.com/2008/05/maui-beach-vacation-club.html" REL="nofollow">maui beach club</A><A HREF="http://bestbeach-vacations.blogspot.com/2008/05/best-beach-vacations.html" REL="nofollow">beach vacations</A><A HREF="http://thebestbeachvacations.blogspot.com/2008/05/best-beach-vacations.html" REL="nofollow">your beach vacations</A><A HREF="http://vacationsinthebestbeach.blogspot.com/2008/05/best-beach-vacations.html" REL="nofollow">cheap beach vacations</A><BR/><BR/><A HREF="http://layered-bob-haircuts.blogspot.com/2008/07/bob-layered-haircuts.html" REL="nofollow">bob hairstyle</A><A HREF="http://boblayeredhaircuts.blogspot.com/2008/07/bob-layered-haircuts.html" REL="nofollow">bob haircuts</A><A HREF="http://bob-layered-haircuts.blogspot.com/2008/07/bob-layered-haircuts.html" REL="nofollow">bob layered</A><A HREF="http://best-classic-bob-haircuts.blogspot.com/2008/06/classic-bob-haircuts.html" REL="nofollow">pob hairstyle</A><A HREF="http://classicbobhaircuts.blogspot.com/2008/06/classic-bob-haircuts.html" REL="nofollow">bobbed</A><A HREF="http://classic-bob-haircuts.blogspot.com/2008/06/classic-bob-haircuts.html" REL="nofollow">classic bob</A><A HREF="http://haircareandcurlyhair.blogspot.com/2008/07/hair-care-for-curly-hair.html" REL="nofollow">Care for Curly Hair</A><A HREF="http://haircare-curlyhair.blogspot.com/2008/07/hair-care-for-curly-hair.html" REL="nofollow">Tips for Curly Hair</A><A HREF="http://hair-care-for-curly-hair.blogspot.com/2008/07/hair-care-for-curly-hair.html" REL="nofollow">curly hair</A><A HREF="http://truck-bus-tires12r22-5bestprices.blogspot.com/2008/07/tires-truck-bus-tires12r-225-best-price.html" REL="nofollow">12r 22.5 best price</A><A HREF="http://tires-truckbus-12r22-5-bestprices.blogspot.com/2008/07/tires-truck-bus-tires12r-225-best-price.html" REL="nofollow">tires truck bus</A><A HREF="http://tirestruckbus12r22-5bestprice.blogspot.com/2008/07/tires-truck-bus-tires12r-225-best-price.html" REL="nofollow">tires 12r 22.5</A></div>
</div>
<div class='comment'>
<div class='author'>MuthuSelvan</div>
<div class='content'>
Hi,<BR/>Nice Blog!<BR/>We provides exclusive and highly accurate Data, <A HREF="http://e-datapro.net/" REL="nofollow">data coding</A> at least of 99.995% accuracy. With complete confidentiality and high level of accuracy the customers prefer to outsource their jobs to us. We Offer services for all kinds of textual data capturing from printed matter, manuscripts, scanned images, web research etc. with high accuracy levels.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/26/twining-iron-python-dsl-for-db-update/">Twining: Iron Python DSL for DB Update III</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-26T13:45:00-06:00" pubdate data-updated="true">Feb 26<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>My thoughts as exhibited in a little Python script now have a name: Twining.&nbsp; </p> <p>Unplanned illness slowed me down over the weekend, but the beauty of lambda expressions make transformations a breeze. I&#8217;ll let the code document what I added.</p> <p><pre>cn = "Data Source=.\\sqlexpress;Initial Catalog=MVCBaby;Integrated Security=SSPI;"<br />mytrans = {"Field1":"upper","Field1": lambda x: x.upper(),"Field3": lambda x: x[::-1]}<br />database(cn).table("Photos").transform(mytrans).copyto.csv("c:\\foo.csv")<br /></pre><br /><p>As you can see, &#8220;mytrans&#8221; is a dictionary containing a matching of column names to both a keyword string, &#8220;upper&#8221;, and also lambda expressions that model functions to operate on the constituent data (the [::-1] idiom reverses a string).&nbsp; I&#8217;d add a few keywords for simple things people often do to data but the beauty of lambda expressions is that it keeps my code lazy and empowers whoever is using the script to make their own judgement about what to do with data.</p><br /><p>Here&#8217;s what goes on behind the scenes - the <font face="Courier New" size="2">copyto</font> class has a <font face="Courier New" size="2">checkAndTransform</font> method that matches up a field value with it&#8217;s &#8220;transform&#8221;:</p><br /><p><pre>	def checkAndTransform(self, field, value):<br />		if registrar.transforms.has_key(field):<br />			if repr(type(registrar.transforms[field])) == "&lt;type  'function'&gt;":<br />				value = registrar.transforms[field](value)<br />			if registrar.transforms[field] == "upper":<br />				value = value.upper()<br />		return value	<br /></pre><br /><p></p><br /><p>I&#8217;m not <em>Pythonic</em> enough yet to know if I need to call repr and do a string comparison when testing if a type is a function, but it works just fine.</p><br /><p>So a few thoughts:</p><br /><p>1. What are the usual changes we make to data when exporting or importing?<br>2. Is it stupid to have shortcut strings or should I just fall back on writing lambdas?<br>3. Is there a better way of testing for a function than <br><font face="Courier New" size="2">repr(type(registrar.transforms[field])) == &#8220;&lt;type &#8216;function&#8217;&gt;&#8221;</font></p><br /><p>The to-do list from my previous post is still intact, I&#8217;ll be working through it in the near future.&nbsp; Have a look at <a href="http://www.seruyange.com/metadeveloper/database.py.txt">the complete script</a> and if you have thoughts or opinions, please let me know. A big goal here is not only to make something useful, but to learn Python (and be Pythonic, the two don&#8217;t necessarily coincide).</p><br /><p>Here&#8217;s a full list of what can be done at this point:</p><br /><p><pre>mytrans = {"Field1":"upper","Field2": lambda x: x.upper(),"Field3": lambda x: x[::-1]}<br /><br />database(cn).table("MyTable").transform(mytrans).copyto.csv("c:\\foo.csv") #with transform<br />database(cn).table("MyTable").copyto.csv("c:\\foo.csv") #without transform<br />database(cn).table("MyTable").copyto.database(cn2)<br />database(cn).table("MyTable").copyto.xmlFieldsAsAttributes("c:\\here.xml")<br />database(cn).table("MyTable").copyto.xmlFieldsAsElements("c:\\there.xml")<br />database(cn).backupto("C:\\temp\\my_backup.bak")<br /><br /></pre><br /><p></p><br /><h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>David Seruyange</div>
<div class='content'>
Great feedback!  <BR/><BR/>I changed my function checking &#8216;cuteness&#8217; for callable - what you say makes total sense and I ran into it while studying Mark Pilgrim&#8217;s <A HREF="http://www.diveintopython.org/" REL="nofollow">Dive Into Python</A>.<BR/><BR/>@fuzzyman - I started with the idea of built in types but the thing that I&#8217;m loving about the lambda is that it&#8217;s a generic, lazy approach that defers exactly which types of &#8220;transforms&#8221; are needed until the time of use if that makes sense.<BR/><BR/>@fuzzyman/catherine - I tried to merge both of your comments into the following compromise: I use the try/except from your comment but rather than let it pass I put a list in registrar (which is a goofy way of having a &#8220;global&#8221; space for things) called &#8220;warnings&#8221; in which I store the exceptional occurance. After something occurs I&#8217;ll check the length of warnings and display anything I find in there. Something like: <BR/>except TypeError:<BR/> registrar.warnings.append(&#8220;Your transform failed on field %s&#8221; % field)<BR/><BR/>I&#8217;ll post the updates I&#8217;ve made within the next day or so.</div>
</div>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
Regarding this approach:<BR/><BR/><BR/>try:<BR/>value = registrar.transforms[field](value)<BR/>except TypeError:<BR/>pass<BR/><BR/>It has a minor problem that TypeErrors raised inside the transform will then be swallowed. *Personally* I think using callable is slightly better for this situation.</div>
</div>
<div class='comment'>
<div class='author'>Catherine</div>
<div class='content'>
David, you&#8217;re writing code faster than I can read it and comment.  :)<BR/><BR/>What fuzzyman said about using callable - good advice.  Writing Pythonically, you try not to think about what an object <EM>is</EM>, but <EM>what you can do with it</EM>, because then you don&#8217;t break polymorphism - if I write some funky object that doesn&#8217;t look like a function to your test, but can be called, then you still want to accept it.<BR/><BR/>You can go a step further - not test at all and apply EAFP - Easier to Ask Forgiveness than Permission -<BR/><BR/>try:<BR/>    value = registrar.transforms[field](value)<BR/>except TypeError:<BR/>    pass<BR/><BR/>Also, &#8220;if registrar.transforms.has_key(field):&#8221; is 100% legitimate, but I like &#8220;if field in registrar.transforms&#8221; better, because it looks prettier.<BR/><BR/>Anyway, I like your approach!  I&#8217;m looking at some ETL code I wrote years ago and thinking that it would be better using your dict-of-transforms idea.</div>
</div>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
Third and final thought (I promise&#8230;) - even better than checking for objects that are functions you can simply check if the object is callable:<BR/><BR/>if callable(something):<BR/><BR/>This is more Pythonic as it doesn&#8217;t restrict you to using functions, but allows any callable object.</div>
</div>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
You can also replace your lambdas with builtin functions:<BR/><BR/>str.upper<BR/>reversed</div>
</div>
<div class='comment'>
<div class='author'>Fuzzyman</div>
<div class='content'>
Your technique for checking if objects are functions is &#8216;cute&#8217;. :-)<BR/><BR/>The best way is to use the types module from the Python standard library.<BR/><BR/>from types import FunctionType<BR/><BR/>isinstance(something, FunctionType)<BR/><BR/>If you want to avoid the import you can do:<BR/><BR/>def nothing: pass<BR/>FunctionType = type(nothing)<BR/><BR/>Hope that helps.</div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/12/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/10/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/06/20/ndc-2011/">NDC 2011</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/15/search-match-replace-generate/">Search, Match, Replace, Generate</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/15/on-features/">On Features</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/13/closures-anonymous-javascript/">Closures, Anonymous: JavaScript Influenced C#</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/10/getting-random-rows-random-numbers-with/">Getting Random Rows, Random Numbers With Sql Server</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/t3rse">@t3rse</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 't3rse',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - David aka t3rse -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
