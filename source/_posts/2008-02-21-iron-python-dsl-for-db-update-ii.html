---
layout: post
title: "Iron Python DSL for DB Update II"
date: 2008-02-21T11:28:00-08:00
---

<div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>Attepting releasing early &amp; often - here are a few new features to the ideas I'm putting together for the Database specific DSL.&nbsp; I'll summarize all that's possible with it now with the new stuff highlighted in red.</p> <blockquote> <p><font face="Courier New" size="2"><font color="#008000">#some connection strings</font><br>cn = "Data Source=.\\sqlexpress;Initial Catalog=MVCBaby;Integrated Security=SSPI;"<br>cn2 = "Data Source=.\\sqlexpress;Initial Catalog=Irvine;Integrated Security=SSPI;"</font></p> <p><font face="Courier New" size="2"><font color="#008000">#some things to do</font><br>database(cn).table("MyTable").copyto.csv("c:\\foo.csv")<br>database(cn).table("MyTable").copyto.database(cn2)<br><font color="#ff0000">database(cn).table("MyTable").copyto.xmlFieldsAsAttributes("c:\\spam\\eggs.xml")<br>database(cn).table("MyTable").copyto.xmlFieldsAsElements("c:\\spam\\eggs.xml")<br>database(cn).backupto("C:\\spam\\eggs.bak")</font></font></p></blockquote> <p>The overall idea is to build a <em>language centric, developer oriented implementation</em> of what is done in a tool like SSIS or its predecessor DTS - I'm using SQL Server for a start but there's no reason this can't include other database platforms. It's quite exciting that even without knowing much Python I can get that much done in the language.&nbsp; I'll spend time refactoring and reorganizing the script I've started with, but please <a href="http://www.seruyange.com/metadeveloper/database.py.txt">feel free to download and modify it</a>. Please post any improvements or ideas for how I can improve the Python and added any other features to the dsl. (Point on using __getattr__ well taken).</p> <p>My todo list?<br>1. Aforementioned "transforms" for data in migration<br>2. Exception handling :^)<br>3. Copying tables is a rough sketch but needs a lot of work<br>4. Export formats besides CSV and XML: arbitrary delimiters and fixed field length<br>5. __getattr__ :^)</p> <h1><font color="#0000ff">}</font></h1>  </div>
