---
layout: post
title: "C# Extension Method for Generic Collections"
date: 2008-05-05T19:59:00-07:00
---

<div class='post'>
<h1><font color="#0000ff">{</font></h1> <p>Tinkering a bit with extension methods tonight, <a href="http://www.hanselman.com/blog/ASmarterOrPureEvilToStringWithExtensionMethods.aspx">inspired</a> in part by Scott Hanselman to write something I've frequently needed with generic collections: to spit them out in some delimited format.&nbsp; Here are the extension class and method:</p><pre class="csharpcode">    <span class="kwrd">static</span> <span class="kwrd">class</span> EnumerableExtensions<br />    {<br />        <span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">string</span> AsDelimited&lt;T&gt;(<span class="kwrd">this</span> List&lt;T&gt; obj, <span class="kwrd">string</span> delimiter)<br />        {<br />            List&lt;<span class="kwrd">string</span>&gt; items = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;();<br />            <span class="kwrd">foreach</span> (T data <span class="kwrd">in</span> obj) {<br />                items.Add(data.ToString());<br />            }<br />            <span class="kwrd">return</span> String.Join(delimiter, items.ToArray());<br />        }<br />    }</pre><br /><style type="text/css">.csharpcode, .csharpcode pre<br />{<br />	font-size: small;<br />	color: black;<br />	font-family: consolas, "Courier New", courier, monospace;<br />	background-color: #ffffff;<br />	/*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt <br />{<br />	background-color: #f4f4f4;<br />	width: 100%;<br />	margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }<br /></style><br /><br /><style type="text/css">.csharpcode, .csharpcode pre<br />{<br />	font-size: small;<br />	color: black;<br />	font-family: consolas, "Courier New", courier, monospace;<br />	background-color: #ffffff;<br />	/*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt <br />{<br />	background-color: #f4f4f4;<br />	width: 100%;<br />	margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }<br /></style><br /><br /><p>You can spit out your delimited instances of any List&lt;T&gt; now:</p><pre class="csharpcode">            List&lt;<span class="kwrd">string</span>&gt; test = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;(<span class="kwrd">new</span> <span class="kwrd">string</span>[] { <span class="str">"David"</span>, <span class="str">"Morgan"</span>, <span class="str">"Philip"</span> });<br />            Console.WriteLine(test.AsDelimited(<span class="str">" =&gt; "</span>));<br /><br />            List&lt;<span class="kwrd">int</span>&gt; primes = <span class="kwrd">new</span> List&lt;<span class="kwrd">int</span>&gt;(<span class="kwrd">new</span> <span class="kwrd">int</span>[] { 2, 3, 5, 7, 11, 13, 17 });<br />            Console.WriteLine(primes.AsDelimited(<span class="str">" , "</span>));<br /></pre><br /><style type="text/css">.csharpcode, .csharpcode pre<br />{<br />	font-size: small;<br />	color: black;<br />	font-family: consolas, "Courier New", courier, monospace;<br />	background-color: #ffffff;<br />	/*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt <br />{<br />	background-color: #f4f4f4;<br />	width: 100%;<br />	margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }<br /></style><br /><br /><style type="text/css">.csharpcode, .csharpcode pre<br />{<br />	font-size: small;<br />	color: black;<br />	font-family: consolas, "Courier New", courier, monospace;<br />	background-color: #ffffff;<br />	/*white-space: pre;*/<br />}<br />.csharpcode pre { margin: 0em; }<br />.csharpcode .rem { color: #008000; }<br />.csharpcode .kwrd { color: #0000ff; }<br />.csharpcode .str { color: #006080; }<br />.csharpcode .op { color: #0000c0; }<br />.csharpcode .preproc { color: #cc6633; }<br />.csharpcode .asp { background-color: #ffff00; }<br />.csharpcode .html { color: #800000; }<br />.csharpcode .attr { color: #ff0000; }<br />.csharpcode .alt <br />{<br />	background-color: #f4f4f4;<br />	width: 100%;<br />	margin: 0em;<br />}<br />.csharpcode .lnum { color: #606060; }<br /></style><br /><br /><h1><font color="#0000ff">}</font></h1>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>D. Patrick Caldwell</div>
<div class='content'>
Hey, I enjoyed your blog post.  I've been writing <A HREF="http://dpatrickcaldwell.blogspot.com/search/label/Extension%20Methods" REL="nofollow">a lot of extension methods</A> lately myself.  Sometimes you really have to be thankful to be a C# developer, you know?<BR/><BR/>I hadn&#39;t seen the syntax for adding an extension method to a generic type.  I&#39;m still not sure I understand why you need Foo&lt;T&gt;(this List&lt;T&gt;) and not just Foo(this List&lt;T&gt;).<BR/><BR/>Also, I was wondering if you&#39;ve tried any syntax highlighters?  I use one from google code and I have <A HREF="http://dpatrickcaldwell.blogspot.com/2009/03/one-line-script-highlighter.html" REL="nofollow">a pretty easy one liner</A> you can add to your template.  If you'd like to use it, feel free.</div>
</div>
</div>
